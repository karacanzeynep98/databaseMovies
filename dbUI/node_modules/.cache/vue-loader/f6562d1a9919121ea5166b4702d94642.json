{"remainingRequest":"/Users/zeynepkaracan/Desktop/databaseProject/dbproject/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zeynepkaracan/Desktop/databaseProject/dbproject/src/components/listMovies.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zeynepkaracan/Desktop/databaseProject/dbproject/src/components/listMovies.vue","mtime":1574448068163},{"path":"/Users/zeynepkaracan/Desktop/databaseProject/dbproject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zeynepkaracan/Desktop/databaseProject/dbproject/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zeynepkaracan/Desktop/databaseProject/dbproject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zeynepkaracan/Desktop/databaseProject/dbproject/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgovLyBpbXBvcnQgTW92aWVEZXRhaWxzPyBmcm9tICcuL0NlbnR1cnlEZXRhaWxzLnZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJsaXN0TW92aWVzIiwKICAgIHByb3BzOiBbInNlYXJjaEZvcm0iXSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAvLyBNb3ZpZURldGFpbHMsCiAgICB9LAogICAgYXN5bmMgbW91bnRlZCgpIHsKICAgICAgICAvL2dldCBVUkwKICAgICAgICB0aGlzLnNlYXJjaE1vdmllcyA9IGF3YWl0IGdldE1vdmllUmVzdWx0cyh0aGlzLnNlYXJjaEZvcm0pOwoKICAgICAgICBhbGVydChKU09OLnN0cmluZ2lmeSh0aGlzLnNlYXJjaE1vdmllcykpOwogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2VhcmNoTW92aWVzOltdLAogICAgfQogIH0KfQoKLy9NYWtlcyB0aGUgQXBpIGNhbGwgZmlyc3QgdG8gbXkgc2VydmVyIHRoYW4gdG8gSGFydmFyZCBBUEkKYXN5bmMgZnVuY3Rpb24gZ2V0UXVlcnlPYmplY3RzKG9iamVjdF91cmwpIHsKICAgIC8vbWFraW5nIGNhbGxzIHRvIE1ZIEFQSQogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChvYmplY3RfdXJsKTsKICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CgogICAgYWxlcnQoJ0RJRCBJIEdFVCBEQVRBJyk7CiAgICBhbGVydChkYXRhKTsKCiAgICByZXR1cm4gZGF0YTsKfQoKYXN5bmMgZnVuY3Rpb24gZ2V0TW92aWVSZXN1bHRzKHF1ZXJ5T2JqZWN0KXsKCiAgICBsZXQgZW5kcG9pbnQgPSAnL2dldE1vdmllcyc7CgogICAgLy9HRVQgVEhFIFVSTCBPVVQgT0YgVEhFIElOUFVUUwogICAgbGV0IG9iamVjdF91cmwgPSBnZXRRdWVyeVVSTChxdWVyeU9iamVjdCwgZW5kcG9pbnQpOwoKICAgIGFsZXJ0KCdUSElTIElTIE1ZIFFVRVJZIFVSTCcpOwogICAgYWxlcnQoSlNPTi5zdHJpbmdpZnkob2JqZWN0X3VybCkpOwoKICAgIC8vRE8gVEhFIEFQSSBDQUxMIEFORCBHRVQgQU4gQVJSQVkgT0YgT0JKRUNUUyAoTElTVCBPRiBPQkpFQ1RTKQogICAgY29uc3QgbGlzdE1vdmllcyA9IGF3YWl0IGdldFF1ZXJ5T2JqZWN0cyhvYmplY3RfdXJsKTsKCiAgICByZXR1cm4gbGlzdE1vdmllczsKCn0KCmZ1bmN0aW9uIGdldFF1ZXJ5VVJMKHF1ZXJ5LCBlbmRwb2ludCkgewoKICAgIGxldCBvYmplY3RfcXVlcnlfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcgKyBlbmRwb2ludDsKCiAgICBsZXQgb2JqZWN0X3VybCA9IG5ldyBVUkwob2JqZWN0X3F1ZXJ5X1VSTCk7IC8vdXJsIG9iamVjdAoKICAgIE9iamVjdC5rZXlzKHF1ZXJ5KS5mb3JFYWNoKGtleSA9PiB7CiAgICAgICAgaWYocXVlcnlba2V5XSl7CiAgICAgICAgICAgIG9iamVjdF91cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHF1ZXJ5W2tleV0pOwogICAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiBvYmplY3RfdXJsOwp9CgoKCgo="},{"version":3,"sources":["listMovies.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"listMovies.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class = \"movies-container\">\n        <div v-for=\"movie in searchMovies\" :key = \"movie.id\">\n            <b-button v-b-toggle=\"'collapse' + movie.id\" size=\"sm\" squared variant=\"outline-danger\"> {{movie.title}} </b-button>\n            <b-collapse :id=\"'collapse' + movie.id\">\n                <b-card> \n                    <p class=\"card-text\"> Movie title is {{movie.title}} </p>\n                    <p class=\"card-text\"> Movie id is {{movie.id}} </p>\n                    <p class=\"card-text\"> Is it an adult movie?: {{movie.adult}} </p>\n                    <p class=\"card-text\"> Movie original language is: {{movie.original_language}} </p>\n                    <p class=\"card-text\"> Movie details is: {{movie.overview}} </p>\n                </b-card>\n            </b-collapse>\n        </div>\n    </div>\n</template>\n\n<script>\n\n// import MovieDetails? from './CenturyDetails.vue'\n\nexport default {\n    name: \"listMovies\",\n    props: [\"searchForm\"],\n    components: {\n        // MovieDetails,\n    },\n    async mounted() {\n        //get URL\n        this.searchMovies = await getMovieResults(this.searchForm);\n\n        alert(JSON.stringify(this.searchMovies));\n    },\n    data() {\n        return {\n            searchMovies:[],\n    }\n  }\n}\n\n//Makes the Api call first to my server than to Harvard API\nasync function getQueryObjects(object_url) {\n    //making calls to MY API\n    const response = await fetch(object_url);\n    const data = await response.json();\n\n    alert('DID I GET DATA');\n    alert(data);\n\n    return data;\n}\n\nasync function getMovieResults(queryObject){\n\n    let endpoint = '/getMovies';\n\n    //GET THE URL OUT OF THE INPUTS\n    let object_url = getQueryURL(queryObject, endpoint);\n\n    alert('THIS IS MY QUERY URL');\n    alert(JSON.stringify(object_url));\n\n    //DO THE API CALL AND GET AN ARRAY OF OBJECTS (LIST OF OBJECTS)\n    const listMovies = await getQueryObjects(object_url);\n\n    return listMovies;\n\n}\n\nfunction getQueryURL(query, endpoint) {\n\n    let object_query_URL = 'http://localhost:3000' + endpoint;\n\n    let object_url = new URL(object_query_URL); //url object\n\n    Object.keys(query).forEach(key => {\n        if(query[key]){\n            object_url.searchParams.append(key, query[key]);\n        }\n    });\n\n    return object_url;\n}\n\n\n\n\n</script>"]}]}